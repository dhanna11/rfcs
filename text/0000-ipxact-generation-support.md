- 0000 IP-XACT Generation Support
- Start Date: 2019-01-18
- RFC PR: (leave this empty)
- Chisel-lang Issue: (leave this empty)

# Summary
[summary]: #summary

Provide a library that will enable generate IP-XACT XML collateral from an annotated Chisel circuit.
IP-XACT is defined in IEEE 1685-2014. 
It provides hardware descriptions that help in combining Hardware IP from multiple sources.

# Motivation
[motivation]: #motivation
A number of EDA vendors are able to ingest IP-XACT interface descriptions and use them to assist
in component integration and testing. Vendors have a number of IP standards such as AXI that have pre-existing tests
that can be used on a Chisel circuit that implements AXI if it can present IP-XACT.

# Guide-level explanation
[guide-level-explanation]: #guide-level-explanation

Chisel-lang's IP-XACT support comprises circuit, interface, and parameter annotations and Firrtl Stages and
transformation that can generate and IP-XACT XML file, that describes the following

- Interface Port Definitions
- Bus Definitions with mapping between logical and physical ports
- Address map information for where interfaces sit on a bus
- Parameter information that describes how the circuit was generated.

# Reference-level explanation
[reference-level-explanation]: #reference-level-explanation

IP-XACT support will be require dsptools and rocket chip facilities. It will initially support AXI-4 and a small
number of pre-existing standards.

An initial reference example is in this [example in dsptools](https://github.com/ucb-bar/dsptools/blob/d56eaee509d60f14a32d7a7d85952e9494d2da34/rocket/src/test/scala/ipxact/AXI4GCD.scala).


**TODO**

- Additional patterns that will be supported
- Describe the annotations that will be supported
- File management that describes where generated IP will be placed. 


# Drawbacks
[drawbacks]: #drawbacks

IP-XACT has differing degrees of support amongst vendors and multiple versions of the standard can be found in the wild.
There may be a fair amount of hand editing in order to make the IP-XACT consumable by a particular vendor and that
work may not be transferable.
XML can be an awkward format with high overhead.

# Rationale and alternatives
[rationale-and-alternatives]: #rationale-and-alternatives

- Providing a library for IP-XACT generation will simplify the work required of developers
- It will help ease barriers to adoption of Chisel-lang ecosystem.
- It may provide tools for easier integration of 3rd paty IP into Chisel-lang projects.
- There no real alternative standards in this space.

# Prior art
[prior-art]: #prior-art

Several existing Chisel designs have generated by a small collection of project specific helpers added to the 
DspTools and RocketDspTools repos. 
This code needs to be standardized and moved to make it more generally accessible and applicable.
Note the occurrences of the search term ipxact on github in freechips, ucb-bar, and ucb-art projects.

# Unresolved questions
[unresolved-questions]: #unresolved-questions

- What is a reasonable set of annotations to implement this project
- Most of the pre-existing work relies on rocket-chip, is that too high a bar in order to generate IP-XACT

# Future possibilities
[future-possibilities]: #future-possibilities

- IP-XACT could be a useful tool in testing. Unit tests and circuit verification could be based on the types IP-XACT describes.
- IP-XACT could be ingested and used to build chisel-lang black boxes to aid 3rd party IP integration.